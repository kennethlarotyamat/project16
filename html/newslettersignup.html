<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8" /><link rel="icon" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhis5UXOyPLEmBDmRjOHERNBK5CSCBwelHPiOaPwzn903vmcdjBQ_QFy9t4b5N-WNQaxgDTKjK4l7VsbpzXJ9Y82q7MJrdk8c3xq3Nty_TvvAAK1SglaLV9c3f4alOXkW8tYJEZ50WBzNW2tWXdj-ssJLN3HNPhqw0A1DQMNdwJu0aNGArbOUZ3nyvXO-A/s320/Chestnut%20+%20Hazel%20%200123%20(12)%2000%20002%20048.png">
   <title>Project 16: My Basic Form</title>
</head>
<body>
   <h1 style="text-align:center;">Newsletter Sign-Up</h1>
   <form name="MyForm"  method="Post" action=" ">
     <div style="text-align:center;">
     <input type="text" name="fullname"  placeholder="Your name">
     <input type="text" name="email"  placeholder="Your email" >
     <input type="tel" id=" " name="phone" placeholder="Your phone #" maxlength="12"  class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required>
     <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEieQvTbPFA_St9RG_ao14oqifRI55tY3-r8lWFhwqreeSGGsLIuSA6-rWcONt-dckaJz_TNyC1MGs6nGHUFG_CGEeUwBreS76r7pkYd2ysQsepkeRtwUwzRM_x19Wl1s282rNtCSjVmwu4pWjJIX9CUILvc1m-d4HZHKaKd0GAAPIH0vMBnbPcD0IzhdVs/s320/thanlyouthankyouUntitled.png"><input type="submit" name="submit"  value="Submit" onClick="javascript:return validateInputs();"></a>
    </div>
   </form>

<!-- 

<div class="input-group">
<label for="phone" class="form-label">Telephone </label>
<input type="tel" id="phone" name="phone" class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required>
<small class="error-msg invalid-feedback">Format: 555-555-5555</small>
</div>

 -->

<script>
function validateInputs()
  {
    //declaration of variables

    var SubmitForm;
    var FormErrors;

    //Initially set SubmitForm to true. 

    SubmitForm = true;

    //Retrieve variables to be validated and sanitized
    //Assume they are dangerous for now

    var fullname    = new String(document.MyForm.fullname.value);
    var email   = new String(document.MyForm.email.value);
    var phone   = new String(document.MyForm.phone.value);

    //Check that the user inputs are not blank
    //JavaScript logical operator for OR : ||    [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR]
    // I'm going to replace this logical operator or with logical operator and https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND
    // if ( fullname.length<1 || email.length<1 )

    if ( fullname.length<1 && email.length<1 && phone.length<1 )
    {
    FormErrors = "All fields are mandatory. Please complete the form.";
    SubmitForm = false;
    } else {

//Set up a filter for the pattern of an email
//Learn more about referencing characters:          //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions/Character_Classes


var filter = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;

    
    //Use test() method to check user email against the filter
    //test() method: https://www.w3schools.com/jsref/jsref_regexp_test.asp     

    if (!filter.test(email))
    {
        FormErrors = "Your form contains invalid field entries. Please correct your form before submitting";
        SubmitForm = false;
     }
    }
    
    if (SubmitForm == false)
    {
        //The form cannot be submitted.
        alert(FormErrors);
        return false;
    } else {
        //SANITIZE user inputs by allowing only [a-z 0-9 _ - . @] 
        //strip forbidden characters
        fullname = fullname.replace(/[^a-z0-9\s\-]/gim,"");
        fullname = fullname.trim();
        email = email.replace(/[^a-z0-9_@.-]/gim,"");
        email = email.trim();

        //ready to submit
        document.MyForm.submit();
    }
}
</script>
</body>
</html>